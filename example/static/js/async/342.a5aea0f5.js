"use strict";(self.webpackChunkexample=self.webpackChunkexample||[]).push([["342"],{7717(e,a,t){t.r(a),t.d(a,{Component:()=>h,default:()=>m});var s=t(1085),n=t(7688),i=t(7765),r=t(1790),l=t(3704),o=t(6363),d=t(6418),g=t(8894),c=t(4041);let y=()=>{let[e]=r.A.useForm(),a=(0,i.useFairysPageDataSearchProps)(),t=(0,i.useFairysPageDataTableProps)(),g=a.state,y=a.fairysPageData,h=t.loading;return console.log("state-page",a,t),(0,c.useEffect)(()=>{y.onUpdatedPage(1)},[]),(0,s.jsxs)(n.FairysMainPage,{children:[(0,s.jsx)(n.FairysMainPageSearch,{children:(0,s.jsxs)(r.A,{form:e,initialValues:g.search,onValuesChange:e=>{y.onUpdatedSearch(e)},layout:"inline",children:[(0,s.jsx)(r.A.Item,{label:"姓名",name:"name",children:(0,s.jsx)(l.A,{})}),(0,s.jsx)(r.A.Item,{label:"年龄",name:"age",children:(0,s.jsx)(l.A,{})}),(0,s.jsxs)(r.A.Item,{children:[(0,s.jsx)(o.Ay,{type:"primary",onClick:()=>y.onUpdatedPage(1),children:"查询"}),(0,s.jsx)(o.Ay,{type:"primary",onClick:()=>{e.setFieldsValue({name:void 0,age:void 0}),y.onResetSearch({name:void 0,age:void 0})},children:"重置"})]})]})}),(0,s.jsx)(n.FairysMainPageBody,{children:(0,s.jsx)(d.A,{loading:!!h,rowKey:"name",columns:[{title:"姓名",dataIndex:"name",key:"name"},{title:"年龄",dataIndex:"age",key:"age"}],dataSource:t.dataList,pagination:{total:t.total,current:(null==t?void 0:t.page)||1,pageSize:(null==t?void 0:t.pageSize)||20,onChange(e,a){y.onUpdatedPage(e,a)}}})})]})},h=()=>{let e=(0,i.useFairysPageData)({tabKey:"key1",isTabTable:!0,isTabSearch:!0,getList:async(e,a,t)=>(console.log("打印查询参数",e,t),await new Promise(e=>setTimeout(e,3e3)),Promise.resolve({total:100,list:Array.from({length:20},(a,s)=>({name:`姓名_${t}____${s+1+(e.page-1)*e.pageSize}`,age:20+s}))}))}),a=(0,i.useFairysPageDataStoreSnapshot)(e).state.tabKey;return(0,s.jsx)(i.FairysPageDataContext.Provider,{value:e,children:(0,s.jsxs)(g.A,{activeKey:a,onChange:a=>{e.store.tabKey=a},children:[(0,s.jsx)(g.A.TabPane,{tab:"子组件1",children:(0,s.jsx)(y,{})},"key1"),(0,s.jsx)(g.A.TabPane,{tab:"子组件2",children:(0,s.jsx)(y,{})},"key2")]})})},m=h}}]);